"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _react=_interopRequireDefault(require("react")),_rotationLeft=_interopRequireDefault(require("@scaleflex/icons/rotation-left")),_rotationRight=_interopRequireDefault(require("@scaleflex/icons/rotation-right")),_icons=require("@scaleflex/icons"),_hooks=require("../../../hooks"),_actions=require("../../../actions"),_restrictNumber=_interopRequireDefault(require("../../../utils/restrictNumber")),_getSizeAfterRotation=_interopRequireDefault(require("../../../utils/getSizeAfterRotation")),_constants=require("../../../utils/constants"),_ToolsBarItemButton=_interopRequireDefault(require("../../ToolsBar/ToolsBarItemButton")),_Rotate=require("./Rotate.styled"),RotateOptions=function(){var a=(0,_hooks.useStore)(),b=a.dispatch,c=a.adjustments.rotation,d=void 0===c?0:c,e=a.resize,f=void 0===e?{}:e,g=a.config,h=g[_constants.TOOLS_IDS.ROTATE],i=(0,_hooks.usePhoneScreen)(),j=(0,_hooks.useDebouncedCallback)(function(a,c){var d=(0,_restrictNumber["default"])(c,-180,180);if(b({type:_actions.CHANGE_ROTATION,payload:{rotation:d}}),f.width&&f.height){var e=(0,_getSizeAfterRotation["default"])(f.width,f.height,d);b({type:_actions.SET_RESIZE,payload:{width:e.width,height:e.height}})}},20);return"buttons"===h.componentType?_react["default"].createElement(_react["default"].Fragment,null,_react["default"].createElement(_ToolsBarItemButton["default"],{className:"FIE_rotate_button_left",id:_constants.TOOLS_IDS.IMAGE,label:"-".concat(h.angle,"\xB0"),Icon:_rotationLeft["default"],onClick:function changeRotationButtonNegative(a){var b=d-h.angle;j(a,b)}}),_react["default"].createElement(_ToolsBarItemButton["default"],{className:"FIE_rotate_button_right",id:_constants.TOOLS_IDS.IMAGE,label:"+".concat(h.angle,"\xB0"),Icon:_rotationRight["default"],onClick:function changeRotationButtonPositive(a){var b=d+h.angle;j(a,b)}})):_react["default"].createElement(_Rotate.StyledRotationOptions,null,_react["default"].createElement(_Rotate.StyledRotationSlider,{className:"FIE_rotate-slider",showCurrentMarkText:!0,min:-180,max:180,step:i?h.angle/3:1,value:d,angle:h.angle||90,onChange:j}),_react["default"].createElement(_Rotate.StyledRotateButton,{size:"sm",color:"basic",onClick:function onClick(a){return j(a,d+90)}},_react["default"].createElement(_icons.Rotate90,{width:15})))},_default=exports["default"]=RotateOptions;