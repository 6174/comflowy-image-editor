"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=exports.SET_CROP=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_constants=require("../utils/constants"),_toPrecisedFloat6=_interopRequireDefault(require("../utils/toPrecisedFloat"));function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){(0,_defineProperty2["default"])(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}var SET_CROP=exports.SET_CROP="SET_CROP",setCrop=function(a,b){var c,d,e,f,g,h,i,j=null!==(c=a.adjustments.crop)&&void 0!==c?c:{},k={x:null!==(d=(0,_toPrecisedFloat6["default"])(b.x))&&void 0!==d?d:j.x,y:null!==(e=(0,_toPrecisedFloat6["default"])(b.y))&&void 0!==e?e:j.y,ratio:"string"==typeof b.ratio?b.ratio:null!==(f=(0,_toPrecisedFloat6["default"])(b.ratio))&&void 0!==f?f:j.ratio,width:null!==(g=(0,_toPrecisedFloat6["default"])(b.width))&&void 0!==g?g:j.width,height:null!==(h=(0,_toPrecisedFloat6["default"])(b.height))&&void 0!==h?h:j.height,ratioTitleKey:null!==(i=b.ratioTitleKey)&&void 0!==i?i:j.ratioTitleKey,ratioGroupKey:b.ratioGroupKey,ratioFolderKey:b.ratioFolderKey,noEffect:b.noEffect};return j.x===k.x&&j.y===k.y&&(j.width===k.width||k.width===(0,_toPrecisedFloat6["default"])(a.shownImageDimensions.width)&&null!==!j.width&&k.ratio!==_constants.ORIGINAL_CROP)&&(j.height===k.height||k.height===(0,_toPrecisedFloat6["default"])(a.shownImageDimensions.height)&&null!==j.height&&k.ratio!==_constants.ORIGINAL_CROP)&&j.ratio===k.ratio&&j.ratioTitleKey===k.ratioTitleKey&&j.ratioGroupKey===k.ratioGroupKey&&j.ratioFolderKey===k.ratioFolderKey?a:_objectSpread(_objectSpread({},a),{},{isDesignState:!b.dismissHistory,adjustments:_objectSpread(_objectSpread({},a.adjustments),{},{crop:_objectSpread(_objectSpread({},j),k)})})},_default=exports["default"]=setCrop;